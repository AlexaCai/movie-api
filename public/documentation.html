<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
    <link rel="stylesheet" type="text/css" href="file:///C:/Users/alexa/Documents/movie_api/css/styles.css">
    <title>Documentation</title>
</head>

<body>
    <div id="text">
        <h1>myFlix web app documentation (backend)</h1>
        <h3>Projet description</h3>
        <p>myFlix web app has been created to serve as a reference in the domain of visual entertainment. Users can
            create an account and then log into myFlix to have access to information about different movies. They can
            search for movies, filter results based on different criteria and create lists of favorites. myFlix has been
            built in two parts: the backend (here) and the frontend (<a href="https://github.com/AlexaCai/myFlix-client"
                target="_blank">see this repository for the frontend part of mtFlix</a>).
        </p>
        <p>
            The objective of this part of the project (backend) was to build an API from scratch to power and feed the
            movie web app and ensure easy interactions for users whenever they are accessing myFlix to read details
            about different movies or update their information.
        </p>
        <p>
            <strong>myFlix backend development can be breakdown in the five following points:</strong>
        </p>
        <ul>
            <li><strong>Who</strong>— For frontend developers who’ll work on the client-side of myFlix, based on what’s
                been done and documented on the server-side here. For future myFlix users who'll want to read and search
                information about different movies as well.</li>
            <li><strong>What</strong>— The complete server-side of myFlix web app, including the server, business logic,
                and business layers of the application.</li>
            <li> <strong>When</strong>— Whenever users of myFlix are interacting with the application, the server-side
                of the application will be in use, processing their requests and performing operations against the data
                in the database. Users will be able to use myFlix whenever they want to read information about different
                movies or update their user information.</li>
            <li><strong>Where</strong>-myFlix backend logic is hosted online (Heroku).</li>
            <li><strong>Why</strong>-Movie enthusiasts want to be able to access information about different movies,
                directors, and genres. The server-side of myFlix ensure they have access to this information, that their
                requests can be processed and that all necessary data can be stored.</li>
        </ul>
        <h3>Technical aspects</h3>
        <p>The server-side of myFlix consists of a well-designed REST API and architected database built using the MERN
            tech stack (MongoDB, Express, React and Node.js). The REST API is accessed via commonly used HTTP methods
            (GET, PUT, POST and DELETE). Similar methods (CRUD) are used to perform operations on data stored in a
            non-relational database.
        </p>
        <p>
            More precisely, the API:
        </p>
        <ul>
            <li>Uses Node.js and Express framework;</li>
            <li>Uses REST architecture, with URL endpoints corresponding to the operations listed in the table below;
            </li>
            <li>Uses middleware modules such as the Body-parser package for reading data from requests and Morgan for
                logging;</li>
            <li>Uses a package.json file;</li>
            <li>Uses a MongoDB database;</li>
            <li>Has a business logic modeled with Mongoose;</li>
            <li>Provides movie information in JSON format;</li>
            <li>Includes user authentication and authorization logic;</li>
            <li>Includes data validation logic;</li>
            <li>Meets data security standards;</li>
            <li>Is deployed on Heroku.</li>
        </ul>
        <h3>List of endpoints and related information</h3>
    <table>
        <thead>
            <tr>
                <td>Request</td>
                <td>URL</td>
                <td>Query parameter</td>
                <td>HTTP method</td>
                <td>Request body data format</td>
                <td>Request body data format example</td>
                <td>Response body data format</td>
                <td>Response body data format example</td>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Return a list of all movies to the user</td>
                <td>/movies</td>
                <td>None</td>
                <td>GET</td>
                <td>Not applicable</td>
                <td>Not applicable</td>
                <td>JSON object holding data about all the movies</td>
                <td class="wide-column">
                    {<br>
                    "Genre": { <br>
                    "Name": "Science fiction" <br>
                    "Description": "Type of..." <br>
                    }, <br>
                    "Director": { <br>
                    "Name": "Steven Spielberg" <br>
                    "Bio": "US filmmaker..." <br>
                    "Birth": "December 18, 1946" <br>
                    "Death": "NA" <br>
                    }, <br>
                    "_id": "648c92c20fee6d37..." <br>
                    "Title": "Jurassic Park" <br>
                    "Description": "US movie..." <br>
                    "ImageURL": "https://www..." <br>
                    "Featured": "false" <br>
                    }
                    <br>
                    <br>
                    { <br>
                    (Other movie) <br>
                    }
                </td>
            </tr>
            <tr>
                <td>Return data (title, description, genre, director, image URL) about a single movie by title to the
                    user</td>
                <td>/movies/:Title</td>
                <td>:Title</td>
                <td>GET</td>
                <td>Not applicable</td>
                <td>Not applicable</td>
                <td>JSON object holding data about the movie requested</td>
                <td class="wide-column">
                    {<br>
                    "Genre": { <br>
                    "Name": "Science fiction" <br>
                    "Description": "Type of..." <br>
                    }, <br>
                    "Director": { <br>
                    "Name": "Steven Spielberg" <br>
                    "Bio": "US filmmaker..." <br>
                    "Birth": "December 18, 1946" <br>
                    "Death": "NA" <br>
                    }, <br>
                    "_id": "648c92c20fee6d37..." <br>
                    "Title": "Jurassic Park" <br>
                    "Description": "US movie..." <br>
                    "ImageURL": "https://www..." <br>
                    "Featured": "false" <br>
                    }
                </td>
            </tr>
            <tr>
                <td>Return data about a genre by name (e.g.: Thriller)</td>
                <td>/movies/genre/:genreName</td>
                <td>:genreName</td>
                <td>GET</td>
                <td>Not applicable</td>
                <td>Not applicable</td>
                <td>JSON object holding data about the genre requested</td>
                <td class="wide-column">
                    {<br>
                    "Genre": { <br>
                    "Name": "Science fiction" <br>
                    "Description": "Type of..." <br>
                    }, <br>
                    "Director": { <br>
                    "Name": "Steven Spielberg" <br>
                    "Bio": "US filmmaker..." <br>
                    "Birth": "December 18, 1946" <br>
                    "Death": "NA" <br>
                    }, <br>
                    "_id": "648c92c20fee6d37..." <br>
                    "Title": "Jurassic Park" <br>
                    "Description": "US movie..." <br>
                    "ImageURL": "https://www..." <br>
                    "Featured": "false" <br>
                    }
                </td>
            </tr>
            <tr>
                <td>Return data about a director by name</td>
                <td>/movies/directors/:directorName</td>
                <td>:directorName</td>
                <td>GET</td>
                <td>Not applicable</td>
                <td>Not applicable</td>
                <td>JSON object holding data about the director requested</td>
                <td class="wide-column">
                    {<br>
                    "Genre": { <br>
                    "Name": "Science fiction" <br>
                    "Description": "Type of..." <br>
                    }, <br>
                    "Director": { <br>
                    "Name": "Steven Spielberg" <br>
                    "Bio": "US filmmaker..." <br>
                    "Birth": "December 18, 1946" <br>
                    "Death": "NA" <br>
                    }, <br>
                    "_id": "648c92c20fee6d37..." <br>
                    "Title": "Jurassic Park" <br>
                    "Description": "US movie..." <br>
                    "ImageURL": "https://www..." <br>
                    "Featured": "false" <br>
                    }
                </td>
            </tr>
            <tr>
                <td>Allow new users to register</td>
                <td>/users</td>
                <td>None</td>
                <td>POST</td>
                <td>JSON object holding data about the user who wants to create an account</td>
                <td>
                    { <br>
                    "Username": "req.body.Username", <br>
                    "Password": "req.body.Password", <br>
                    "Email": "req.body.Email", <br>
                    "Birthday": "req.body.Birthday" <br>
                    }
                </td>
                <td>JSON object holding data about the user's new account just created</td>
                <td class="wide-column">
                    { <br>
                    "Username": "Usertest", <br>
                    "Password": "Usertest", <br>
                    "Email": "Usertest@gmail.com", <br>
                    "Birthday": "1995-09-08T00:00:00.000Z", <br>
                    "FavoriteMovies": [], <br>
                    "_id": "648e8630e9d9abf...", <br>
                    "__v": 0 <br>
                    }
                </td>
            </tr>
            <tr>
                <td>Allow users to update their user info (Username)</td>
                <td>/users/:Username</td>
                <td>:Username</td>
                <td>PUT</td>
                <td>JSON object holding data the user wants to update</td>
                <td>
                    { <br>
                    "Username": "UsertestUPDATED", <br>
                    "Password": "UsertestUPDATED", <br>
                    "Email": "UsertestUPDATED@gmail.com", <br>
                    "Birthday": "1995-09-08T00:00:00.000Z" <br>
                    }
                </td>
                <td>JSON object holding data about the user's updated account</td>
                <td class="wide-column">
                    { <br>
                    "_id": "648e8630e9d9abf7...", <br>
                    "Username": "UsertestUPDATED", <br>
                    "Password": "UsertestUPDATED", <br>
                    "Email": "UsertestUPDATED@gmail.com", <br>
                    "Birthday": "1995-09-08T00:00:00.000Z", <br>
                    "__v": 0 <br>
                    }
                </td>
            </tr>
            <tr>
                <td>Allow users to add a movie to their list of favorites</td>
                <td>/users/:Username/movies/:movieID</td>
                <td>:Username and :movieID</td>
                <td>POST</td>
                <td>Not applicable</td>
                <td>Not applicable</td>
                <td>JSON object holding data about the user and the new movie added</td>
                <td class="wide-column">
                    { <br>
                    "_id": "648e8630e9d9abf7...", <br>
                    "Username": "UsertestUPDATED", <br>
                    "Password": "UsertestUPDATED", <br>
                    "Email": "UsertestUPDATED@gmail.com", <br>
                    "Birthday": "1995-09-08T00:00:00.000Z", <br>
                    "FavoriteMovies": ["648cc4289e8b6d..."], <br>
                    "__v": 0 <br>
                    }
                </td>
            </tr>
            <tr>
                <td>Allow users to remove a movie from their list of favorites</td>
                <td>/users/:Username/movies/:movieID</td>
                <td>:Username and :movieID</td>
                <td>DELETE</td>
                <td>Not applicable</td>
                <td>Not applicable</td>
                <td>JSON object holding data about the user (the movie removed not appaering anymore)</td>
                <td class="wide-column">
                    { <br>
                    "_id": "648e8630e9d9abf7...", <br>
                    "Username": "UsertestUPDATED", <br>
                    "Password": "UsertestUPDATED", <br>
                    "Email": "UsertestUPDATED@gmail.com", <br>
                    "Birthday": "1995-09-08T00:00:00.000Z", <br>
                    "FavoriteMovies": [ ] <br>
                    "__v": 0 <br>
                    }
                </td>
            </tr>
            <tr>
                <td>Allow existing users to deregister</td>
                <td>/users/:Username</td>
                <td>:Username</td>
                <td>DELETE</td>
                <td>Not applicable</td>
                <td>Not applicable</td>
                <td>Confirmation message that account has been deleted</td>
                <td class="wide-column">
                    "UsertestUPDATED has been deleted."
                </td>
            </tr>
        </tbody>
    </table>
    <h3 style="margin-left: 40px;">App dependencies</h3>
    <ul>
        <li>bcrypt: ^5.1.0 </li>
        <li>body-parser: ^1.20.2 </li>
        <li>cors: ^2.8.5 </li>
        <li>express: ^4.18.2 </li>
        <li>express-validator: ^7.0.1 </li>
        <li>jsonwebtoken: ^9.0.0 </li>
        <li>mongoose: ^7.3.0 </li>
        <li>morgan: ^1.10.0 </li>
        <li>passport: ^0.6.0 </li>
        <li>passport-jwt: ^4.0.1 </li>
        <li>passport-local: ^1.0.0 </li>
        <li>uuid: ^9.0.0</li>
    </ul>
</div>
</body>

</html>